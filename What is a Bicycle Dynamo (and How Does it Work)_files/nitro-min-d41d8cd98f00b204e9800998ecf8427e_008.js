"use strict";[].forEach.call(document.querySelectorAll("a"),function(e){e.addEventListener("click",wpil_link_clicked);e.addEventListener("auxclick",wpil_link_clicked)});function wpil_link_clicked(e){var n=this;var r="";var t=false;var l="";var d=["img","svg"];if(!(e.which==1||e.button==0)&&!(e.which==2||e.button==4)||n.length<1){return}if("1"===wpilFrontend.disableClicks){return}if(this.href===undefined||n.href==="#"){return}function o(e){if(e.children.length>0){for(var n in e.children){var i=e.children[n];if(i.children!==undefined&&i.children.length>0&&r===""){o(i)}if(i.nodeType===1&&-1!==d.indexOf(i.nodeName.toLowerCase())&&l===""){t=true;var a=undefined!==i.title?i.title:"";if(undefined!==a){l=a.trim()}}r=r.trim();l=l!==undefined?l.trim():""}}if(undefined!==e.outerText){r=e.outerText}}o(n);if(r===""&&t){if(l!==""){r=wpilFrontend.clicksI18n.imageText+l}else{r=wpilFrontend.clicksI18n.imageNoText}}else if(r===""&&!t){r=wpilFrontend.clicksI18n.noText}if(wpilFrontend.trackAllElementClicks==="0"&&hasParentElements(n,"header, footer, nav, [id~=header], [id~=menu], [id~=footer], [id~=widget], [id~=comment], [class~=header], [class~=menu], [class~=footer], [class~=widget], [class~=comment], #wpadminbar")){return}var i=getLinkLocation(n);makeAjaxCall({action:"wpil_link_clicked",post_id:wpilFrontend.postId,post_type:wpilFrontend.postType,link_url:n.href,link_anchor:r,link_location:i})}window.addEventListener("load",openLinksInNewTab);function openLinksInNewTab(){if(wpilFrontend.openLinksWithJS==0||wpilFrontend.openExternalInNewTab==0&&wpilFrontend.openInternalInNewTab==0){return}[].forEach.call(document.querySelectorAll("a"),function(e){if(!hasParentElements(e,"header, footer, nav, [id~=header], [id~=menu], [id~=footer], [id~=widget], [id~=comment], [class~=header], [class~=menu], [class~=footer], [class~=widget], [class~=comment], #wpadminbar")){if(e.href&&!e.target&&e.href.indexOf(window.location.href)===-1){var n=new URL(e.href);var i=window.location.hostname===n.hostname?true:false;if(i&&parseInt(wpilFrontend.openInternalInNewTab)||!i&&parseInt(wpilFrontend.openExternalInNewTab)){e.setAttribute("target","_blank")}}}})}function hasParentElements(e,n=""){var i=!e?false:e.tagName.toLowerCase();if(!e||i==="body"||i==="main"||i==="article"){return false}if(typeof n==="string"){n=n.split(",")}var a=false;for(var r in n){var t=n[r];if(-1!==t.indexOf("id~=")){var l=t.replace(/\[id~=|\]/g,"").trim();if(undefined!==e.id&&""!==e.id&&-1!==e.id.indexOf(l)){a=true;break}}else if(-1!==t.indexOf("class~=")){var l=t.replace(/\[class~=|\]/g,"").trim();if(undefined!==e.classList&&""!==e.className&&-1!==e.className.indexOf(l)){a=true;break}}else if(-1!==t.indexOf("#")){var l=t.replace(/#/g,"").trim();if(undefined!==e.id&&""!==e.id&&l===e.id){a=true;break}}else if(!t.match(/[^a-zA-Z]/)){var l=t.trim();if(e.tagName.toLowerCase()===l){a=true;break}}}if(a){return true}else if(e.parentNode!==""){return hasParentElements(e.parentNode,n)}return false}function makeAjaxCall(e={}){if(window.jQuery){callWithJquery(e)}else{callWithVanilla(e)}}function callWithJquery(e={}){jQuery.ajax({type:"POST",url:wpilFrontend.ajaxUrl,data:e,success:function(e){}})}function callWithVanilla(e={}){function n(e){if(e.currentTarget!==undefined){console.log(e.currentTarget.response)}}async function i(e,n){var i=wpilFrontend.ajaxUrl,a=new XMLHttpRequest;var r=[];for(var t in e){r.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]))}r=r.join("&");a.open("POST",i);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send(r)}i(e,n)}function getLinkLocation(e){var n="Body Content";var i={Search:["search","[id~=search]","[class~=search]"],Header:["header","[id~=header]","[class~=header]"],"Comment Section":["[id~=comment]","[class~=comment]"],Footer:["footer","[id~=footer]","[class~=footer]"],Menu:["[id~=menu]","[class~=menu]"],Navigation:["nav"],Sidebar:["sidebar","[id~=sidebar]","[class~=sidebar]","[id~=widget]","[class~=widget]"],"Body Content":["main","article","[class~=main]"]};if(!e||e.tagName.toLowerCase()==="body"){return n}var a=false;e:for(var r in i){var t=i[r];for(var l in t){var d=t[l];if(-1!==d.indexOf("id~=")){var o=d.replace(/\[id~=|\]/g,"").trim();if(undefined!==e.id&&""!==e.id&&-1!==e.id.indexOf(o)){a=true;n=r;break e}}else if(-1!==d.indexOf("class~=")){var o=d.replace(/\[class~=|\]/g,"").trim();if(undefined!==e.classList&&""!==e.className&&-1!==e.className.indexOf(o)){a=true;n=r;break e}}else if(-1!==d.indexOf("#")){var o=d.replace(/#/g,"").trim();if(undefined!==e.id&&""!==e.id&&o===e.id){a=true;n=r;break e}}else if(!d.match(/[^a-zA-Z]/)){var o=d.trim();if(e.tagName.toLowerCase()===o){a=true;n=r;break e}}}}if(a){return n}else if(e.parentNode!==""){return getLinkLocation(e.parentNode)}return false}